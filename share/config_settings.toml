version = "1.0"
i18n = "global_settings_setting"

[security]
name = "Security"
	[security.ipmirrors]
	name = "IPmirrors"
		[security.ipmirrors.v4]
		type = "tags"
		default = "https://ip.yunohost.org,https://api.ipify.org"
		pattern.regexp = '^https://.*$'
		pattern.error = "Provide a secured https URL"
		[security.ipmirrors.v6]
		type = "tags"
		default = "https://ip6.yunohost.org"
    [security.password]
    name = "Passwords"
        [security.password.admin_strength]
        type = "number"
        default = 1

        [security.password.user_strength]
        type = "number"
        default = 1
    
    [security.ssh]
    name = "SSH"
        [security.ssh.ssh_compatibility]
        type = "select"
        default = "modern"
        choices = ["intermediate", "modern"]

        [security.ssh.ssh_port]
        type = "number"
        default = 22

        [security.ssh.ssh_password_authentication]
        type = "boolean"
        yes = "True"
        no = "False"
        default = "False"

        [security.ssh.ssh_allow_deprecated_dsa_hostkey]
        type = "boolean"
        yes = "True"
        no = "False"
        default = "False"

    [security.nginx]
    name = "NGINX"
        [security.nginx.nginx_redirect_to_https]
        type = "boolean"
        yes = "True"
        no = "False"
        default = "True"

        [security.nginx.nginx_compatibility]
        type = "select"
        default = "intermediate"
        choices = ["intermediate", "modern"]

    [security.postfix]
    name = "Postfix"
        [security.postfix.postfix_compatibility]
        type = "select"
        default = "intermediate"
        choices = ["intermediate", "modern"]

    [security.webadmin]
    name = "Webadmin"
        [security.webadmin.webadmin_allowlist_enabled]
        type = "boolean"
        yes = "True"
        no = "False"
        default = "False"

        [security.webadmin.webadmin_allowlist]
        type = "tags"
        visible = "webadmin_allowlist_enabled"
        optional = true
        default = ""

    [security.experimental]
    name = "Experimental"
        [security.experimental.security_experimental_enabled]
        type = "boolean"
        yes = "True"
        no = "False"
        default = "False"


[email]
name = "Email"
    [email.pop3]
    name = "POP3"
        [email.pop3.pop3_enabled]
        type = "boolean"
        yes = "True"
        no = "False"
        default = "False"
    
    [email.smtp]
    name = "SMTP"
        [email.smtp.smtp_allow_ipv6]
        type = "boolean"
        yes = "True"
        no = "False"
        default = "True"

        [email.smtp.smtp_relay_enabled]
        type = "boolean"
        yes = "True"
        no = "False"
        default = "False"
        
        [email.smtp.smtp_relay_host]
        type = "string"
        default = ""
        optional = true
        visible="smtp_relay_enabled"

        [email.smtp.smtp_relay_port]
        type = "number"
        default = 587
        visible="smtp_relay_enabled"

        [email.smtp.smtp_relay_user]
        type = "string"
        default = ""
        optional = true
        visible="smtp_relay_enabled"
        
        [email.smtp.smtp_relay_password]
        type = "password"
        default = ""
        optional = true
        visible="smtp_relay_enabled"

[misc]
name = "Other"
    [misc.ssowat]
    name = "SSOwat"
        [misc.ssowat.ssowat_panel_overlay_enabled]
        type = "boolean"
        yes = "True"
        no = "False"
        default = "True"
    
    [misc.backup]
    name = "Backup"
        [misc.backup.backup_compress_tar_archives]
        type = "boolean"
        yes = "True"
        no = "False"
        default = "False"
